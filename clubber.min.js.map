{"version":3,"sources":["dist/clubber.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","id","loaded","call","m","c","p","Clubber","config","this","context","window","AudioContext","webkitAudioContext","analyser","createAnalyser","fftSize","size","mute","fps","Object","defineProperty","get","smoothingTimeConstant","set","value","_muted","connect","destination","disconnect","sampleRate","resize","frequencyBinCount","muted","prototype","bins","bufferLength","maxBin","lastkey","idx","data","Uint8Array","keys","noteSums","Uint16Array","notes","weights","i","inc","freq","key","Math","floor","log","holeIndex","listen","obj","source","AudioNode","el","_mediaElementSource","createMediaElementSource","band","scope","parseConfig","defaults","from","to","low","high","smooth","adapt","snap","template","k","t","length","push","parseInt","rect","Float32Array","output","offset","fill","arr","Array","isArray","min","fromArray","max","arguments","time","s","val","Val","midx","mval","Vsum","vsum","nsum","xsum","psum","osum","cnt","V","v","x","round","avg","smoothFn","o","f","undefined","abs","width","av","height","_height","area","ah","al","ocf","oct","ceil","step","tmax","forEach","update","isProcessed","cache","self","getByteFrequencyData","lastIndex","lastVal","w","di","dv","j","isNaN","parseFloat","performance","now","descriptions"],"mappings":"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","file":"dist/clubber.min.js"}